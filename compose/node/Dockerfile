FROM node:latest

WORKDIR /app

COPY / package*.json ./

RUN npm install

COPY / .

ENV QUARKUS_PORT=${QUARKUS_PORT}
ENV QUARKUS_URL=backend
ENV QUARKUS_BASEURL=http://backend:${QUARKUS_PORT}
ENV API_BACKEND_LOGIN=${API_BACKEND_LOGIN}
ENV API_BACKEND_PASSWORD=${API_BACKEND_PASSWORD}
ENV PORT=${NODE_PORT}

EXPOSE $PORT

CMD ["npm", "start"]
